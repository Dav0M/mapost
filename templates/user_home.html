{% extends "header_template.html" %}
{% block head %}
  {{ super() }}
  <title> {{ user.name }}'s Profile </title>
  <link rel="stylesheet" href="/static/css/user_home.css">
  <script src="/static/js/delete.js"></script>
{% endblock %}
{% block content %}
<!--
<style>
  .username {
      position: fixed;
      top: 90px;
      left: 120px;
      font-size: 20px;
  }
  .profile {
      line-height: 70px; 
      text-decoration: none; 
      width: 70px; 
      height: 70px; 
      border-radius: 50%; 
      background-color: #acacac;
      color: #fff;
      text-align: center;
      font-size: 14px;
      display: inline-block;
      position: fixed;
      top: 70px;
      left: 40px;
  }
</style> -->
  <div class="pure-g">
    <div class="pure-u-1">
      <div class="pure-g user-info">
        <div class="pure-u">
          <img width="64" height="64" class="user-img" src="{{ user.img }}">
        </div>
        <div class="pure-u">
          <h1 class="user-name">{{user.name}}</h1>
        </div>
      </div>
    </div>
    <div class="post-list pure-u-3-5">
      <div class="pure-g">
        {% if posts|length == 0 %}
          <h1>{{ user.name }} has no posts :(</h1>
        {% else %}
          {% for post in posts %}
            <div class="post-row pure-u-1" id="{{ post['id'] }}">
              <div class="pure-g">
                <div class="post pure-u-3-5">
                  <div class="post-author-img"><img class="author-img" src="{{ post['user_img'] }}"></div>
                  <div class="post-author"><a href="/user/{{ post['user_id'] }}">{{ post['name'] }}</a></div>
                  <div class="post-date">{{ post['time'] }}</div>
                  <div class="post-content">{{ post['content'] }}</div>
                  {% if post.get('img') != '' %}
                    <div class="post-image"><img class="images" src="data:image;base64,{{ post['img'] }}"></div>
                  {% endif %}
                  <div class="post-location">{{ post['geog'] }}</div>
                </div>
                {% if session.get('user_id') and session['user_id']['id'] == user.id %}
                  <div class="pure-u edit-button">
                    <a class="pure-button" href="/edit/{{ user.id }}?post={{ post['id'] }}">Edit</a>
                  </div>
                  <div class="pure-u">
                    <button type="button" class="pure-button delete-button">Delete</button>
                  </div>
                {% endif %}
              </div>
            </div>
          {% endfor %}
          <div class="pure-menu pure-menu-horizontal pages">
            <ul class="pure-menu-list">
              {% if page > 1%}
                <li class="pure-menu-item page-back">
                  <a href="/user/{{ user['id'] }}?page={{ page-1 }}" class="pure-menu-link">Back</a>
                </li>
              {% endif %}
                <li class="pure-menu-item page-curr">
                  <a href="" class="pure-menu-heading">{{ page }}</a>
                </li>
              {% if page < total %}
                <li class="pure-menu-item page-next">
                  <a href="/user/{{ user['id'] }}?page={{ page+1 }}" class="pure-menu-link">Next</a>
                </li>
              {% endif %}
            </ul>
          </div>
        {% endif %}
      </div>
    </div>
  </div>

{% endblock %}